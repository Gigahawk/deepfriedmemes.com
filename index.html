<!DOCTYPE html>


<html>
  <head>
    <script src="http://zeptojs.com/zepto.min.js"></script>
    <title>Deep Fried Memes</title>
  </head>

  <body>
    <div id="reddit-content">
    </div>

    <script>
        function parse_imgur(url) {
          var regExp = RegExp("imgur\.com\/(?:gallery/|a/)?([a-zA-Z0-9]{5,7}(?:\.|$))", "i");
          var id = regExp.exec(url);
          if (id) {
              return id[1];
          } else {
              return null;
          }
      }

      $.getJSON(
        "https://www.reddit.com/r/DeepFriedMemes/top.json?t=day&jsonp=?",
        function foo(data)
        {
          $.each(
            data.data.children.slice(0, 10),
            function (i, post) {
              var imgur = parse_imgur(post.data.url);
              var url = imgur ? 'https://i.imgur.com/' + imgur : post.data.url;
              var img = $('<img class="imgpost">'); 
              img.attr('src', url);
              
              
              img.appendTo('#reddit-content');
              $("#reddit-content").append( '<br>' + post.data.title );
              $("#reddit-content").append( '<br>' + post.data.permalink );
              $("#reddit-content").append( '<hr>' );

            }
          )
        }
      );
    </script>

  </body>
</html>
