<!DOCTYPE html>


<html>
  <head>
    <script src="http://zeptojs.com/zepto.min.js"></script>
    <title>Deep Fried Memes</title>
 <style>
#reddit-content:{
text-align:center;
}
.imgpost{
max-width:800px;
	display:block;
		margin:4em auto;
}
	  #source{
	      float: right;
    color: #CCC;
	  }
 </style>
  </head>

  <body>
	  <span id="source">[sourced from /r/DeepFriedMemes]</span>
    <div id="reddit-content">
    </div>

    <script>
        function parse_imgur(url) {
          var regExp = RegExp("imgur\.com\/(?:gallery/|a/)?([a-zA-Z0-9]{5,7})(?:\.|$)", "i");
          var id = regExp.exec(url);
          if (id) {
              return id[1];
          } else {
              return null;
          }
      }

      $.getJSON(
        "https://www.reddit.com/r/DeepFriedMemes/top.json?t=day&jsonp=?",
        function foo(data)
        {
          $.each(
            data.data.children,
            function (i, post) {
              var imgur = parse_imgur(post.data.url);
              var url = imgur ? 'https://i.imgur.com/' + imgur +'.png' : post.data.url;
              var img = $('<img class="imgpost">'); 
              img.attr('src', url);
		    var a = $('<a class="link"/>');
		    a.attr('href','https://reddit.com'+post.data.permalink);
              
              img.appendTo(a);
		    a.appendTo('#reddit-content');
           //   $("#reddit-content").append( '<br>' + post.data.title );
           //   $("#reddit-content").append( '<br>' + post.data.permalink );
            //  $("#reddit-content").append( '<hr>' );

            }
          )
        }
      );
    </script>

  </body>
</html>
